(()=>{"use strict";var e,t={9638:(e,t,n)=>{n(4994),n(853),n(8821),n(4845),n(5007),n(9275),n(6364),n(6632),n(1928),n(4883),n(8995);var r=n(6075),o=n(3653),i=n(4418),a={scene:new r.xsS,gltfLoader:new i.E,mixer:void 0,world:new o.q3,defaultMaterial:new o.F5("default"),glassMaterial:new o.F5("glass"),playerMaterial:new o.F5("player")},c="#3e1322",s="#ffc9ac",u="#071d28",f="#111",l="#441c1d",p="#9fdfff",y={floor:new r.DvJ(200,1,200),pillar:new r.DvJ(5,10,5),bar:new r.DvJ(.1,.3,25.2),sideLight:new r.xo$(.1,6,6),glass:new r.DvJ(1.2,.05,1.2)},h={floor:new r.xoR({color:f}),pillar:new r.xoR({color:u}),bar:new r.xoR({color:l}),sideLight:new r.xoR({color:s}),glass1:new r.xoR({color:p,transparent:!0,opacity:.1}),glass2:new r.xoR({color:p,transparent:!0,opacity:.3})},d=n(8012);n(6908),n(4130);function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m(this,e),this.name=t.name||"",this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.rotationX=t.rotationX||0,this.rotationY=t.rotationY||0,this.rotationZ=t.rotationZ||0,this.mass=t.mass||0,this.cannonMaterial=t.cannonMaterial}var t,n,r;return t=e,(n=[{key:"setCannonBody",value:function(){var e=this.cannonMaterial||a.defaultMaterial,t=new o.xu(new o.AO(this.width/2,this.height/2,this.depth/2));this.cannonBody=new o.uT({mass:this.mass,position:new o.AO(this.x,this.y,this.z),shape:t,material:e}),this.cannonBody.quaternion.setFromAxisAngle(new o.AO(0,1,0),this.rotationY),a.world.addBody(this.cannonBody)}}])&&b(t.prototype,n),r&&b(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(c,e);var t,n,o,i=j(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).geometry=y.pillar,t.material=h.pillar,t.width=t.geometry.parameters.width,t.height=t.geometry.parameters.height,t.depth=t.geometry.parameters.depth,t.mesh=new r.Kj0(t.geometry,t.material),t.mesh.position.set(t.x,t.y,t.z),t.mesh.castShadow=!0,t.mesh.receiveShadow=!0,a.scene.add(t.mesh),t.setCannonBody(),t}return t=c,n&&g(t.prototype,n),o&&g(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(w);function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},R(e,t)}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=B(e);if(t){var o=B(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){if(t&&("object"===M(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function B(e){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},B(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}(c,e);var t,n,o,i=z(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).geometry=y.floor,t.material=h.floor,t.width=t.geometry.parameters.width,t.height=t.geometry.parameters.height,t.depth=t.geometry.parameters.depth,t.mesh=new r.Kj0(t.geometry,t.material),t.mesh.position.set(t.x,t.y,t.z),t.mesh.receiveShadow=!0,a.scene.add(t.mesh),t.setCannonBody(),t}return t=c,n&&_(t.prototype,n),o&&_(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(w);function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},A(e,t)}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=q(e);if(t){var o=q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return L(this,n)}}function L(e,t){if(t&&("object"===C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}(c,e);var t,n,o,i=D(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).geometry=y.bar,t.material=h.bar,t.width=t.geometry.parameters.width,t.height=t.geometry.parameters.height,t.depth=t.geometry.parameters.depth,t.mesh=new r.Kj0(t.geometry,t.material),t.mesh.position.set(t.x,t.y,t.z),t.mesh.castShadow=!0,t.mesh.receiveShadow=!0,a.scene.add(t.mesh),t.setCannonBody(),t}return t=c,n&&T(t.prototype,n),o&&T(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(w);function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t,n){return t&&K(e.prototype,t),n&&K(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var J=Y((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t.name||"",this.x=t.x||0,this.y=t.y||0,this.z=t.z||0;var n=t.container||a.scene;this.geometry=y.sideLight,this.material=h.sideLight,this.mesh=new r.Kj0(this.geometry,this.material),this.mesh.position.set(this.x,this.y,this.z),n.add(this.mesh)}));function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},W(e,t)}function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U(e);if(t){var o=U(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Z(this,n)}}function Z(e,t){if(t&&("object"===H(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function U(e){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},U(e)}var $=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W(e,t)}(c,e);var t,n,o,i=X(c);function c(e){var t;switch(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).type=e.type,t.geometry=y.glass,t.type){case"normal":t.material=h.glass1;break;case"strong":t.material=h.glass2}return t.width=t.geometry.parameters.width,t.height=t.geometry.parameters.height,t.depth=t.geometry.parameters.depth,t.mesh=new r.Kj0(t.geometry,t.material),t.mesh.position.set(t.x,t.y,t.z),t.mesh.castShadow=!0,t.mesh.receiveShadow=!0,t.mesh.name=t.name,a.scene.add(t.mesh),t.setCannonBody(),t}return t=c,n&&I(t.prototype,n),o&&I(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(w);function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Q(e,t)}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te(e);if(t){var o=te(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ee(this,n)}}function ee(e,t){if(t&&("object"===G(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function te(e){return te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},te(e)}var ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q(e,t)}(c,e);var t,n,o,i=V(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).width=.5,t.height=.5,t.depth=.5,t.mesh=new r.Kj0(new r.DvJ(t.width,t.height,t.depth),new r.vBJ({transparent:!0,opacity:0})),t.mesh.castShadow=!0,t.mesh.position.set(t.x,t.y,t.z),a.scene.add(t.mesh),a.gltfLoader.load("./models/jju.glb",(function(e){t.modelMesh=e.scene.children[0],t.modelMesh.position.set(t.x,t.y,t.z),t.modelMesh.rotation.set(t.rotationX,t.rotationY,t.rotationZ),t.modelMesh.castShadow=!0,a.scene.add(t.modelMesh),t.modelMesh.animations=e.animations,a.mixer=new r.Xcj(t.modelMesh),t.actions=[],t.actions[0]=a.mixer.clipAction(t.modelMesh.animations[0]),t.actions[1]=a.mixer.clipAction(t.modelMesh.animations[1]),t.actions[1].repetitions=1,t.actions[0].play(),t.setCannonBody()})),t.mesh=new r.Kj0(t.geometry,t.material),t.mesh.position.set(t.x,t.y,t.z),t.mesh.castShadow=!0,t.mesh.receiveShadow=!0,a.scene.add(t.mesh),t}return t=c,n&&N(t.prototype,n),o&&N(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(w);function re(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oe(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ie=document.querySelector("#three-canvas"),ae=new r.CP7({canvas:ie,antialias:!0});ae.setSize(window.innerWidth,window.innerHeight),ae.setPixelRatio(window.devicePixelRatio>1?2:1),ae.shadowMap.enabled=!0,ae.shadowMap.type=r.ntZ,a.scene.background=new r.Ilk(c);var ce=new r.cPb(75,window.innerWidth/window.innerHeight,.1,1e3);ce.position.x=-4,ce.position.y=19,ce.position.z=14,a.scene.add(ce);var se=new r.Mig(s,.8);a.scene.add(se);var ue=50,fe=new r.PMe(s,1);fe.castShadow=!0,fe.shadow.mapSize.width=2048,fe.shadow.mapSize.height=2048;var le=fe.clone(),pe=fe.clone(),ye=fe.clone();fe.position.set(-50,ue,ue),le.position.set(ue,ue,ue),pe.position.set(-50,ue,-50),ye.position.set(ue,ue,-50),a.scene.add(fe,le,pe,ye);var he=new d.z(ce,ae.domElement);he.enableDamping=!0,a.world.gravity.set(0,-10,0);var de=new o.kp(a.defaultMaterial,a.defaultMaterial,{friction:.3,restitution:.2}),me=new o.kp(a.glassMaterial,a.defaultMaterial,{friction:1,restitution:0}),be=new o.kp(a.playerMaterial,a.glassMaterial,{friction:1,restitution:0});a.world.defaultContactMaterial=de,a.world.addContactMaterial(me),a.world.addContactMaterial(be);var we=1.2,ve=[],ge=(new k({name:"floor"}),new S({name:"pillar",x:0,y:5.5,z:12*-1.2-.6})),Oe=new S({name:"pillar",x:0,y:5.5,z:14.999999999999998});ve.push(ge,Oe);for(var je=new F({name:"bar",x:-1.6,y:10.3,z:0}),xe=(new F({name:"bar",x:-.4,y:10.3,z:0}),new F({name:"bar",x:.4,y:10.3,z:0}),new F({name:"bar",x:1.6,y:10.3,z:0})),Pe=0;Pe<49;Pe++)new J({name:"sideLight",container:je.mesh,z:.5*Pe-12});for(var Se=0;Se<49;Se++)new J({name:"sideLight",container:xe.mesh,z:.5*Se-12});for(var Me=[],_e=0;_e<10;_e++){switch(Math.round(Math.random())){case 0:Me=["normal","strong"];break;case 1:Me=["strong","normal"]}var Re=new $({name:"glass-".concat(Me[0]),x:-1,y:10.5,z:_e*we*2-9*we,type:Me[0],cannonMaterial:a.glassMaterial}),ze=new $({name:"glass-".concat(Me[1]),x:1,y:10.5,z:_e*we*2-9*we,type:Me[1],cannonMaterial:a.glassMaterial});ve.push(Re,ze)}var Ee=new ne({name:"player",x:0,y:10.8,z:13,rotationY:Math.PI,cannonMaterial:a.playerMaterial,mass:30});ve.push(Ee);var Be=new r.iMs,ke=new r.FM8;function Ce(e){e.indexOf("glass")}var Te=new r.SUY;window.addEventListener("resize",(function(){ce.aspect=window.innerWidth/window.innerHeight,ce.updateProjectionMatrix(),ae.setSize(window.innerWidth,window.innerHeight),ae.render(a.scene,ce)})),ie.addEventListener("click",(function(e){ke.x=e.clientX/ie.clientWidth*2-1,ke.y=-(e.clientY/ie.clientHeight*2-1),function(){Be.setFromCamera(ke,ce);var e,t=re(Be.intersectObjects(a.scene.children));try{for(t.s();!(e=t.n()).done;){Ce(e.value.object.name);break}}catch(e){t.e(e)}finally{t.f()}}()})),function e(){var t=Te.getDelta();a.mixer&&a.mixer.update(t),a.world.step(1/60,t,3),ve.forEach((function(e){e.cannonBody&&(e.mesh.position.copy(e.cannonBody.position),e.mesh.quaternion.copy(e.cannonBody.quaternion),e.modelMesh&&(e.modelMesh.position.copy(e.cannonBody.position),e.modelMesh.quaternion.copy(e.cannonBody.quaternion),"player"===e.name&&(e.modelMesh.position.y+=.1)))})),he.update(),ae.render(a.scene,ce),ae.setAnimationLoop(e)}()}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,r),i.exports}r.m=t,e=[],r.O=(t,n,o,i)=>{if(!n){var a=1/0;for(f=0;f<e.length;f++){for(var[n,o,i]=e[f],c=!0,s=0;s<n.length;s++)(!1&i||a>=i)&&Object.keys(r.O).every((e=>r.O[e](n[s])))?n.splice(s--,1):(c=!1,i<a&&(a=i));if(c){e.splice(f--,1);var u=o();void 0!==u&&(t=u)}}return t}i=i||0;for(var f=e.length;f>0&&e[f-1][2]>i;f--)e[f]=e[f-1];e[f]=[n,o,i]},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={179:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,[a,c,s]=n,u=0;if(a.some((t=>0!==e[t]))){for(o in c)r.o(c,o)&&(r.m[o]=c[o]);if(s)var f=s(r)}for(t&&t(n);u<a.length;u++)i=a[u],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(f)},n=self.webpackChunkthreejs_study=self.webpackChunkthreejs_study||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=r.O(void 0,[442],(()=>r(9638)));o=r.O(o)})();